<% if (errorMessage.length > 0) { %>
    <div class="alert alert-danger">
        <% errorMessage.forEach(function(error) { %>
            <%= error %><br>
        <% }); %>
    </div>
<% } %>

<div class="container custom-margin register-form">
    <form action="/register/register" method="POST">
        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
            <% errors.forEach(error => { %>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <%= error.msg %>
                </div>
            <% }) %>
        <% } %>

        <div class="row">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="username">Email:</label>
                    <input type="email" id="username" name="username" placeholder="Inserisci la tua mail"
                           required class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="nome">Nome:</label>
                    <input type="text" id="nome" name="nome" placeholder="Nome" required class="form-control">
                </div>
            </div>

            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="cognome">Cognome:</label>
                    <input type="text" id="cognome" name="cognome" placeholder="Cognome" required class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" placeholder="Password" required
                           class="form-control">
                </div>
            </div>

            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="confirmPassword">Ripeti Password:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword"
                           placeholder="Ripeti password" required class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="paese">Nazione:</label>
                    <input type="text" id="paese" name="paese" placeholder="Nazione" required class="form-control">
                </div>
            </div>

            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="provincia">Provincia:</label>
                    <input type="text" id="provincia" name="provincia" placeholder="Provincia" required
                           class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="citta">Città:</label>
                    <input type="text" id="citta" name="citta" placeholder="Citta/Paese di residenza"
                           required class="form-control">
                </div>
            </div>

            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="zipcode">CAP:</label>
                    <input type="number" id="zipcode" name="zipcode" placeholder="Cap" required class="form-control">
                </div>
            </div>
        </div>
        <div class="row email">
            <div class="col">
                <div class="mb-3 mt-3">
                    <label for="via">Via:</label>
                    <input type="text" id="via" name="via" placeholder="Indirizzo di residenza" required
                           class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label class="mb-3 mt-3" for="accettazione">Trattamento dei dati personali:</label>
                <div class="form-check">
                    <input id="accettazione" class="form-check-input" type="checkbox" name="accettazione"
                           required>
                    <label class="form-check-label">
                        Acconsento al trattamento dei miei dati personali ai sensi del Regolamento Generale
                        sulla
                        Protezione dei Dati (GDPR) dell'Unione Europea.
                    </label>
                </div>
                <button id="registrati-btn" type="submit" class="btn btn-success mt-3 mb-3" disabled>
                    Registrati
                </button>
            </div>
        </div>

    </form>
    <h5 class="center-horizontal">Sei già registrato? <a href="/login">Vai al login!</a></h5>
</div>